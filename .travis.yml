language: cpp

# https://github.com/electron-userland/electron-builder/issues/3559
if: tag IS blank

env:
      # https://github.com/electron-userland/electron-builder/issues/3559
    - TRAVIS_TAG="autotagname"

deploy: &deploy_base
    provider: releases
#    name: ${TRAVIS_TAG}
    tag_name: ${TRAVIS_TAG}
#    target_commitish: master
    body: "    One paragraph only"
    api_key:
        secure: ZEdPu5TaNpQfT+u5n8hO2MM64kPr1CHyKB6DJ1TOQr494+duhK1iGGNeHz1UpSpXBBQxWCJ813hQpe2q5uBYxOgu82P4hAfvzmHAy/VAq2Yynbv9iW8EBP9P3Hu/zjk8hgUFxmYe4YuV9G4slIeMEhboIx3XELz3PtLkphHbqQmivQ/qhWFvfUyF1b+hRq5Tf2iwaPftIujFWm35uV7B//w/QqbPKNY/VGqynvLrIwAWGqSYpnnldzFjq+uxqT5MRhtYATNrUKtVo3UJyIgol+6A/c/5DMwVKb3MeVJTwt7Jwb2b/CSfULFmESeKQqcBXORiu4o72pxiYwdrcqeiHSEFqOJq4wBIDMfGqphwifdjJMqPyp4dzbjqIm87vWtfXOYDJjmbNcsWebY2xcRglpwNWkr8ySEwfI8GgMd0jbYRH8nNDMI0DCGWzHzivywokUem1MLzdGATFV6y723rC8yMyNs13omtr4nL9/WeCJMehD5sCOL2UEG1VYsyFYH/YCXlxRx0IDC76hNQCffzgba0Lnln6oFz7PQP6TV8cYd8MsNQfP3Y2o3FKJyAGUgVghaQ2jRLOmP/czPZL/2uV72Eanv/FAkxAf0bpLve0prSBPKGq0/2gheoIcVG96LRfh6EYFryrj9tV1klX7vvAv/+gYnjYA/AInxoVFKllG8=
    skip_cleanup: true
    overwrite: true
    draft: true
    prerelease: true
#        on:
#           tags: true

jobs:
  include:
   - name: "Ubuntu"
     os: linux
     dist: bionic
     compiler: gcc
    script:
       - cmake -D CMAKE_BUILD_TYPE=Release . && cmake --build .
       - ls -l ${PWD}
     deploy:
       <<: *deploy_base
       file:
            - Hello
