language: cpp

# https://github.com/electron-userland/electron-builder/issues/3559
if: tag IS blank

env:
      # https://github.com/electron-userland/electron-builder/issues/3559
    - TRAVIS_TAG="autotagname"

deploy: &deploy_base
    provider: releases
#    name: ${TRAVIS_TAG}
    tag_name: ${TRAVIS_TAG}
#    target_commitish: master
    body: "    One paragraph only"
    api_key:
        secure: SgZ1g38x9v8tz1RqUOyWAJWjm1RgzYw0N9qZ04qVIalQZgp1kUMkVGL5qfvIrwvQa5gWYz5/vIJ/DbinzD7ZN654dUcJX/ADzpPFGOh6DndirpYrg/SSf3n7Aq8TOPCsqAap3jVv934fGMstELQzBBvqJIUahzBq00ElkIiTqBq53yXxu7kp9j30xLEnxEcqheOMfEnSHFLG9rriE6lTH72gKITgwjdsydhMehHbyaXZDQCLCGrFom8/ZVqfiRpxpa9YDb0qD0ISk127y1wEcwz8LemvTJpCv6HY/Pe1yz3LnThLLGDoy+79gUC/bt/zApC4dnHJEkVSwsLF/cu65qra2pwEFchWp1w+jqqq1BgFPXH4EWYm1wK7/31u4/ZZ1Hxen9sUfagRxyA67BoDPj0N6t4iyA/hA8/KIngYR9/eZkBS/gu9kVJK53Bt1abqoqOPtOLw5sCZ0zmd0RamUwp49ZOaJQDIfYnzHHsFBo0w/+/kCW0Jr9aQuLLNh5+6jMvBSD0xV7iwIHYYQZJpUvzXfBhlDC7/wkwawF7+f2qZ3efHz8+s8Ho1df9tIxo1F256IcB1ZexgC4R7S6nJjnz0kFmb2Ylbx02l3+QUXNWOjsqsy6ocoCefmtcGT8dlurqPYJGK4vgbHPB3rbv7AVF6OZlNFAn+SXXOUFy8be0=
    skip_cleanup: true
    overwrite: true
    draft: true
    prerelease: true
#        on:
#           tags: true

jobs:
  include:
   - name: "Ubuntu"
     os: linux
     dist: bionic
     compiler: gcc
    script:
       - cmake -D CMAKE_BUILD_TYPE=Release . && cmake --build .
       - ls -l ${PWD}
     deploy:
       <<: *deploy_base
       file:
            - Hello
